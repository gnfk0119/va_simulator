[현재 시스템 가용 기기 및 지원 속성 목록]
{device_allowlist_str}

[현재 기기 상태]
{env_state}

[사용자 발화]
"{command}"

[분류된 시스템 의도 파악 결과]
도메인: {domain}, 인텐트: {intent}
대상 기기 엔티티: {device_entity}, 목표 설정값: {target_value}

[분류된 스마트홈 도메인-인텐트 동적 대응 가이드라인]
{dynamic_guideline}

위 기기 상태와 의도 분류 결과, 그리고 반드시 지켜야 할 동적 가이드라인 제약사항을 바탕으로 다음을 생성하세요:
1. 사용자에게 전달할 최종 음성 응답 메시지 (response_text)
   *가이드라인에서 지시하지 않은 안부 인사나 불필요한 맥락 추가는 절대 금지됩니다.*
   *지원하지 않거나 실패한 도메인일 경우, 조작 성공 응답이나 임의의 기기 변경을 수행하면 안 됩니다.*
2. 기기 상태가 조작될 경우 해당 속성을 어떻게 변화시킬지에 대한 명시적인 데이터 (changes 리스트)
   *목표 설정값이 '어둡게'와 같이 자연어일 경우, 시스템이 인식할 수 있는 적절한 수치(예: '30') 혹은 목표 상태(예: 'on'/'off')로 유추하여 변환하세요.*
   *중요: 사용자가 '밝게/어둡게/크게/작게/높게/낮게' 등(adjust 인텐트)을 요구할 경우, 'power' 속성이 아닌 'brightness', 'volume', 'temperature' 등 목적에 맞는 구체적인 속성값을 변경해야 합니다.*
3. 조작된 결과를 나타내는 속성 기호 요약 (state_change_description)

반드시 아래 JSON 포맷만 출력하세요. keys 이름과 구조를 정확히 지켜야 합니다.

```json
{{
  "response_text": "네, 거실 조명을 어둡게 설정했습니다.",
  "changes": [
    {{
      "device_name": "거실 메인 조명",
      "property_name": "brightness",
      "before": "100",
      "after": "30"
    }}
  ],
  "state_change_description": "거실 메인 조명.brightness: 100 -> 30"
}}
```

만약 상태 변경이 없다면 "changes": [] 로 비워두고, "state_change_description": "관측 가능한 기기 상태 변화 없음" 으로 작성하세요.
주의: "state_change_description"에는 절대로 자연어 설명을 적지 마세요. 오직 "기기명.속성명: 이전값 -> 변경값" 형식으로만 적으세요.
